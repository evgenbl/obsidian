В данной статье мы рассмотрим встроенные средства python для работы с файлами: открытие / закрытие, чтение и запись.

Итак, начнем. Прежде, чем работать с файлом, его надо открыть. С этим замечательно справится встроенная функция open:

file = open('text.txt', 'r')

У функции open много параметров, они указаны в статье "[Встроенные функции](https://pythonworld.ru/osnovy/vstroennye-funkcii.html)", нам пока важны 3 аргумента: первый, это имя файла. Путь к файлу может быть относительным или абсолютным. Второй аргумент, это режим, в котором мы будем открывать файл.

|   |   |
|---|---|
|Режим|Обозначение|
|'r'|открытие на чтение (является значением по умолчанию).|
|'w'|открытие на запись, содержимое файла удаляется, если файла не существует, создается новый.|
|'x'|открытие на запись, если файла не существует, иначе исключение.|
|'a'|открытие на дозапись, информация добавляется в конец файла.|
|'b'|открытие в двоичном режиме.|
|'t'|открытие в текстовом режиме (является значением по умолчанию).|
|'+'|открытие на чтение и запись|

Режимы могут быть объединены, то есть, к примеру, 'rb' - чтение в двоичном режиме. По умолчанию режим равен 'rt'.

И последний аргумент, encoding, нужен только в текстовом режиме чтения файла. Этот аргумент задает кодировку.

## Чтение из файла

Открыли мы файл, а теперь мы хотим прочитать из него информацию. Для этого есть несколько способов, но большого интереса заслуживают лишь два из них.

Первый - метод read, читающий весь файл целиком, если был вызван без аргументов, и n символов, если был вызван с аргументом (целым числом n).

file = open('text.txt')
f.read()
f.read(1)

Ещё один способ сделать это - прочитать файл построчно, воспользовавшись [циклом for](https://pythonworld.ru/osnovy/cikly-for-i-while-operatory-break-i-continue-volshebnoe-slovo-else.html):



file = open('text.txt')
for line in f:
    line

## Запись в файл

Теперь рассмотрим запись в файл. Попробуем записать в файл вот такой вот список:

file = open('text.txt' , 'w' , encoding='utf-8) - перезаписывает файл
file.write('hello')

file = open('text.txt' , 'a' , encoding='utf-8) - дописать в конец файла
file.write('hello\\n') - с новой строки
## Запись в файл и чтение

file = open('text.txt' , 'a+' , encoding='utf-8)
file.write('hello\\n')

После окончания работы файлы надо закрывать — так же, как мы это делаем на компьютере. Для этого используется функция

close()

после кода взаимодействия с файлом:

file = open('text.txt', 'w+')
     .
	 .
	 .
file.close()

---

Также файлы можно открывать с помощью менеджера контекста with.
В этом случае файл автоматически закроется, когда работа с ним завершится:

with open('data.txt', 'w+') as f:

\# действия с файлом

При открытии файла можно дополнительно указать кодировку, если нужна специфическая или требуется больше контроля над работой кода:

with open('data.txt', 'w+', encoding='utf-8') as f:

\# действия с файлом

Кодировку можно указать третьим параметром и при обычном способе открытия:

f = open('data.txt', 'w+', encoding='utf-8')

\# действия с файлом

f.close()

## Работа с файловой системой

В Python можно работать не только с конкретным файлом, но и со всей системой. Перемещаться между каталогами, создавать новые файлы и переименовывать существующие.

Для работы с файловой системой на Python используют встроенная библиотека OS. Ее необходимо отдельно импортировать в код проекта, чтобы получить доступа к ее методам:

import os

## Итог

В Python можно работать с файлами и получать доступ к файловой системе для изменения каталогов и директорий. Все это можно делать с помощью кода. В Python для этого предусмотрены следующие методы.

|   |   |
|---|---|
|**Метод**|**Что делает**|
|os.getcwd()|Узнать текущий каталог|
|os.listdir(path)|Узнать список содержимого каталога|
|os.mkdir(path)|Создать директорию|
|os.rename(old_file, new_file)|Переименовать файл или директорию|
|os.rmdir(path)|Удалить пустую директорию|
|shutil.rmtree(path)|Удалить директорию со всем содержимым|
|file.read(size)|Прочитать определенное количество символов из файла|
|file.readline()|Прочитать строку из файла|
|file.readlines()|Прочитать все строки из файла|
|file.write(string)|Записать строку в файл|
|file.writelines(list)|Записать список строк в файл|
|file.seek(int)|Переместить указатель|
|file.tell()|Узнать текущее положение указателя|

