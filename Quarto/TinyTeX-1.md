Легкий, кроссплатформенный, портативный и простой в обслуживании дистрибутив LaTeX, основанный на TeX Live
TinyTeX - это пользовательский дистрибутив LaTeX, основанный на TeX Live, который имеет небольшой размер, но хорошо работает в большинстве случаев, особенно для пользователей R. Если вы столкнетесь с проблемой отсутствия пакетов LaTeX, вам должно быть очень ясно, что вам нужно делать (на самом деле, пользователям R не нужно ничего делать). Вы устанавливаете только те пакеты LaTeX, которые вам действительно нужны.

В настоящее время TinyTeX лучше всего подходит для пользователей R. Другие пользователи также могут использовать его, просто отсутствующие пакеты LaTeX не будут установлены автоматически, и вам нужно будет установить их вручную. Или вы можете пойти на крайние меры, чтобы установить все пакеты (см. FAQ 3, чтобы узнать, как это сделать), но помните, что их тысячи.

Установка или запуск TinyTeX не требует привилегий администратора, а это означает, что вам больше не нужны ваши ИТ-специалисты. Вы даже можете запустить TinyTeX с флэш-накопителя.sudo

### Для пользователей R

Установка и поддержка TinyTeX просты для пользователей R, так как пакет R tinytex предоставляет функции-оболочки (N.B. строчная буква и жирный шрифт tinytex означают пакет R, а верблюжий регистр TinyTeX означает дистрибутив LaTeX). Вы можете использовать tinytex для установки TinyTeX:

install.packages('tinytex')

tinytex::install_tinytex()

\# to uninstall TinyTeX, run tinytex::uninstall_tinytex() 

Чтобы скомпилировать документ R Markdown в PDF, вам больше ничего не нужно знать.

Чтобы скомпилировать документ LaTeX в PDF, вызовите одну из следующих функций (в зависимости от движка LaTeX, который вы хотите использовать) в tinytex: , , и . Когда эти функции обнаруживают пакеты LaTeX, необходимые, но не установленные в TinyTeX, они автоматически устанавливают отсутствующие пакеты по умолчанию.pdflatex()xelatex()lualatex()

\# writeLines(c(

\#   '\\documentclass{article}',

\#   '\\begin{document}', 'Hello world!', '\\end{document}'

\# ), 'test.tex')

tinytex::pdflatex('test.tex')

Это все, что нужно знать среднестатистическому пользователю R. Если вы разработчик, вы можете захотеть установить еще несколько пакетов через . Эта функция устанавливает пакеты, необходимые для создания PDF-виньеток многих пакетов CRAN, и может сэкономить вам время на их самостоятельном поиске.

tinytex:::install_yihui_pkgs()

Если вы не используете R, вам нужно знать еще одну вещь: команду.tlmgr

### Для других пользователей

TinyTeX предполагает, что вы не боитесь использовать командную строку. Если да, пожалуйста, используйте другие популярные дистрибутивы LaTeX. На самом деле, есть только одна команда, которую вам нужно знать:  Наверное, это не так уж и страшно.tlmgr

### Установка

#### Двоичные пакеты TinyTeX ежемесячно выпускаются в репозитории GitHub github.com/rstudio/tinytex-releases.

Для пользователей Linux TinyTeX будет установлен и будут созданы символические ссылки на исполняемые файлы (например, ) (или если они существуют), которые должны быть в переменной окружения: 

$HOME/.TinyTeXpdflatex$HOME/bin$HOME/.local/binPATH

\# make sure perl is properly installed (e.g., apt install -y perl)

perl -mFile::Find /dev/null

\# then install TinyTeX

wget -qO- "https://yihui.org/tinytex/install-bin-unix.sh" | sh

\# make sure perl is properly installed (e.g., apt install -y perl)

perl -mFile::Find /dev/null

\# then install TinyTeX

wget -qO- "https://yihui.org/tinytex/install-bin-unix.sh" | sh

#### Для пользователей macOS, если у вас нет прав на запись , вы можете запустить эту команду для исполняемых файлов TeX Live, на которые будут установлены символические ссылки (почему?):

/usr/local/bin/usr/local/bin

sudo chown -R $(whoami) /usr/local/bin

TinyTeX устанавливается на macOS:

~/Library/TinyTeX

curl -sL "https://yihui.org/tinytex/install-bin-unix.sh" | sh

#### Для пользователей Windows сохраните install-bin-windows.bat пакетного файла (откройте эту ссылку и нажмите + ) и дважды щелкните по нему.

- Ctrl+S

Обратите внимание, что для этого требуется PowerShell (не ниже версии 3.0). Если ваша версия Windows слишком низкая и не содержит PowerShell, следуйте инструкциям в этой статье, чтобы установить ее. Каталог установки , где — переменная среды, которая обычно указывает на путь . См.

%APPDATA%/TinyTeXAPPDATAC:\Users\Your Name\AppData\Roaming

Кроме того, пользователи Windows могут использовать Chocolatey или Scoop для установки TinyTeX. 

Инструкции см. в репозитории GitHub tinytex-releases.

Чтобы удалить TinyTeX, просто удалите папку из файлового менеджера/браузера или используйте командную строку:

\# Linux

tlmgr path remove

rm -r "~/.TinyTeX"

\# macOS

tlmgr path remove

rm -r ~/Library/TinyTeX

\# Windows

tlmgr path remove

rd /s /q "%APPDATA%\TinyTeX"

Сравните способ удаления TinyTeX со способами удаления других дистрибутивов LaTeX, и вы можете оценить, насколько проще избавиться от TinyTeX, чем от других дистрибутивов LaTeX. 

Это связано с тем, что TinyTeX - это просто самодостаточная папка.

Содержание
Этот раздел предназначен только для тех, кто не является пользователем R Markdown — для пользователей R Markdown все происходит автоматически, и вам не нужно вручную искать или устанавливать недостающие пакеты LaTeX.

Если вы скомпилируете документ LaTeX и столкнетесь с сообщением об ошибке, подобным этому:

! LaTeX Error: File `times.sty' not found.

Type X to quit or <RETURN> to proceed,
or enter new name. (Default extension: sty)
По сути, это указывает на отсутствующий пакет LaTeX. Не паникуйте. Откройте командное окно и используйте команду, за которой следует имя файла, [4]tlmgr search --global --file

```
[4]Добавьте косую черту перед именем файла для точного совпадения. Без косой черты могут быть сопоставлены другие пакеты, например, . chemtimes.sty

например:

$ tlmgr search --global --file "/times.sty"
```

psnfss:
        texmf-dist/tex/latex/psnfss/times.sty
...
Найдите пакет, содержащий файл с точным именем, в журнале ошибок выше. В этом случае отсутствующим пакетом является , и мы можем установить пакет через , например,psnfsstlmgr install

tlmgr install psnfss
\# if the package contains executables (e.g., dvisvgm), run
tlmgr path add 
Кроме того, вы можете просто загрузить журнал ошибок в репозиторий GitHub yihui/latex-pass, который работает в облаке и сообщает вам имена отсутствующих пакетов.tlmgr search

Если вы по-прежнему видите сообщения об ошибках, которые вы не понимаете, вы можете обновить все:

tlmgr update --self --all
tlmgr path add
fmtutil-sys --all
Для пользователей R можно использовать соответствующие вспомогательные функции. Несколько примеров:

library(tinytex)
tlmgr_search('/times.sty')   # search for times.sty
tlmgr_install('psnfss')      # install the psnfss package
tlmgr_update()               # update everything
Если вы видите сообщение об ошибке "Удаленный репозиторий новее, чем локальный", это означает, что вам пора обновить (переустановить) TinyTeX вручную:

tinytex::reinstall_tinytex()
Если вы видите сообщение, подобное приведенному ниже, не паникуйте. Просто подождите пару месяцев и приготовьтесь к переустановке TinyTeX.

TeX Live 2018 заморожен навсегда и больше не будет обновляться. Это происходит при подготовке к новому релизу.

Если вы заинтересованы в помощи в предварительном тестировании нового выпуска (когда доступны предварительные тесты), пожалуйста, прочтите tug.org/texlive/pretest.html. В противном случае просто подождите, и новый релиз будет готов в свое время.

Вот и все для среднестатистического пользователя. Прочтите страницу часто задаваемых вопросов, если вы хотите узнать больше технических подробностей о TinyTeX.



